{% extends 'predictor/base.html' %}
{% load static %}

{% block title %}Verify Student - {{ student.user.get_full_name }}{% endblock %}

{% block content %}
<div class="verify-student-container">
 <div class="container">
 <div class="page-header">
 <a href="{% url 'teacher_dashboard' %}" class="back-btn">
 <i class="fas fa-arrow-left"></i> Back to Dashboard
 </a>
 <h1>Verify Student Scores</h1>
 </div>

 <div class="student-info-card">
 <div class="student-header">
 <div class="student-avatar">
 <i class="fas fa-user-graduate"></i>
 </div>
 <div class="student-details">
 <h2>{{ student.user.get_full_name }}</h2>
 <p><strong>Roll Number:</strong> {{ student.roll_number }}</p>
 <p><strong>Email:</strong> {{ student.email }}</p>
 <p><strong>Stream:</strong> {{ student.stream }} | <strong>Year:</strong> {{ student.year }}</p>
 </div>
 </div>
 </div>

 <form method="post" class="verification-form">
 {% csrf_token %}
 
 <div class="form-section">
 <h3><i class="fas fa-graduation-cap"></i> Academic Performance</h3>
 <div class="form-grid">
 <div class="form-group">
 <label for="cgpa">CGPA (0-10)</label>
 <input type="number" step="0.01" min="0" max="10" name="cgpa" 
 value="{{ skill_scores.cgpa|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="previous_semester">Previous Semester (%)</label>
 <input type="number" step="0.01" min="0" max="100" name="previous_semester" 
 value="{{ skill_scores.previous_semester|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="backlogs">Backlogs</label>
 <input type="number" min="0" name="backlogs" 
 value="{{ skill_scores.backlogs|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="college_tier">College Tier (1-3)</label>
 <select name="college_tier" required>
 <option value="1" {% if skill_scores.college_tier == 1 %}selected{% endif %}>Tier 1</option>
 <option value="2" {% if skill_scores.college_tier == 2 %}selected{% endif %}>Tier 2</option>
 <option value="3" {% if skill_scores.college_tier == 3 %}selected{% endif %}>Tier 3</option>
 </select>
 </div>
 </div>
 </div>

 <div class="form-section">
 <h3><i class="fas fa-code"></i> Technical Skills</h3>
 <div class="form-grid">
 <div class="form-group">
 <label for="technical_skills">Technical Skills (0-10)</label>
 <input type="number" step="0.1" min="0" max="10" name="technical_skills" 
 value="{{ skill_scores.technical_skills|default:0 }}" required>
 <small>DSA, Databases, Networking, etc.</small>
 </div>
 <div class="form-group">
 <label for="programming_skills">Programming Skills (0-10)</label>
 <input type="number" step="0.1" min="0" max="10" name="programming_skills" 
 value="{{ skill_scores.programming_skills|default:0 }}" required>
 <small>Python, Java, C++, etc.</small>
 </div>
 <div class="form-group">
 <label for="aptitude_score">Aptitude Score (0-100)</label>
 <input type="number" step="0.1" min="0" max="100" name="aptitude_score" 
 value="{{ skill_scores.aptitude_score|default:0 }}" required>
 </div>
 </div>
 </div>

 <div class="form-section">
 <h3><i class="fas fa-user-friends"></i> Soft Skills</h3>
 <div class="form-grid">
 <div class="form-group">
 <label for="communication_skills">Communication Skills (0-10)</label>
 <input type="number" step="0.1" min="0" max="10" name="communication_skills" 
 value="{{ skill_scores.communication_skills|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="soft_skills">Soft Skills (0-10)</label>
 <input type="number" step="0.1" min="0" max="10" name="soft_skills" 
 value="{{ skill_scores.soft_skills|default:0 }}" required>
 <small>Teamwork, Leadership, Problem Solving</small>
 </div>
 </div>
 </div>

 <div class="form-section">
 <h3><i class="fas fa-briefcase"></i> Experience & Projects</h3>
 <div class="form-grid">
 <div class="form-group">
 <label for="projects_completed">Projects Completed</label>
 <input type="number" min="0" name="projects_completed" 
 value="{{ skill_scores.projects_completed|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="internships">Internships</label>
 <input type="number" min="0" name="internships" 
 value="{{ skill_scores.internships|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="certifications">Certifications</label>
 <input type="number" min="0" name="certifications" 
 value="{{ skill_scores.certifications|default:0 }}" required>
 </div>
 <div class="form-group">
 <label for="extracurricular_activities">Extracurricular Activities</label>
 <input type="number" min="0" name="extracurricular_activities" 
 value="{{ skill_scores.extracurricular_activities|default:0 }}" required>
 </div>
 </div>
 </div>

 <div class="form-actions">
 <button type="submit" class="btn-submit">
 <i class="fas fa-check-circle"></i> Verify & Save
 </button>
 <a href="{% url 'teacher_dashboard' %}" class="btn-cancel">
 <i class="fas fa-times"></i> Cancel
 </a>
 </div>
 </form>
 </div>
</div>

<style>
.verify-student-container {
 padding: 30px 0;
 min-height: 100vh;
 background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
}

.page-header {
 margin-bottom: 30px;
}

.back-btn {
 display: inline-flex;
 align-items: center;
 gap: 8px;
 padding: 10px 20px;
 background: white;
 color: #667eea;
 text-decoration: none;
 border-radius: 8px;
 margin-bottom: 15px;
 font-weight: 600;
 box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.back-btn:hover {
 background: #667eea;
 color: white;
}

.page-header h1 {
 color: #333;
 font-size: 2rem;
}

.student-info-card {
 background: white;
 border-radius: 15px;
 padding: 25px;
 margin-bottom: 30px;
 box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.student-header {
 display: flex;
 align-items: center;
 gap: 20px;
}

.student-avatar {
 width: 80px;
 height: 80px;
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 2rem;
 color: white;
}

.student-details h2 {
 margin: 0 0 10px 0;
 color: #333;
}

.student-details p {
 margin: 5px 0;
 color: #666;
}

.verification-form {
 background: white;
 border-radius: 15px;
 padding: 30px;
 box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.form-section {
 margin-bottom: 35px;
 padding-bottom: 30px;
 border-bottom: 2px solid #f0f0f0;
}

.form-section:last-of-type {
 border-bottom: none;
}

.form-section h3 {
 color: #667eea;
 margin-bottom: 20px;
 display: flex;
 align-items: center;
 gap: 10px;
}

.form-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
 gap: 20px;
}

.form-group {
 display: flex;
 flex-direction: column;
}

.form-group label {
 font-weight: 600;
 color: #333;
 margin-bottom: 8px;
}

.form-group input,
.form-group select {
 padding: 12px;
 border: 2px solid #e0e0e0;
 border-radius: 8px;
 font-size: 1rem;
 transition: all 0.3s;
}

.form-group input:focus,
.form-group select:focus {
 outline: none;
 border-color: #667eea;
 box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
}

.form-group small {
 margin-top: 5px;
 color: #999;
 font-size: 0.85rem;
}

.form-actions {
 display: flex;
 gap: 15px;
 justify-content: center;
 margin-top: 30px;
}

.btn-submit,
.btn-cancel {
 padding: 15px 40px;
 border: none;
 border-radius: 10px;
 font-size: 1rem;
 font-weight: bold;
 cursor: pointer;
 display: inline-flex;
 align-items: center;
 gap: 10px;
 transition: all 0.3s;
 text-decoration: none;
}

.btn-submit {
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 color: white;
}

.btn-submit:hover {
 transform: translateY(-2px);
 box-shadow: 0 5px 20px rgba(102,126,234,0.4);
}

.btn-cancel {
 background: #f0f0f0;
 color: #666;
}

.btn-cancel:hover {
 background: #e0e0e0;
}
</style>
{% endblock %}
