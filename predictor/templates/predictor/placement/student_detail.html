{% load static %}
<!DOCTYPE html>
<html>
<head>
 <title>Student Detail - TPO Portal</title>
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <style>
 :root { --purple: #6d28d9; --violet: #a855f7; }
 * { margin: 0; padding: 0; box-sizing: border-box; }
 body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #f8fafc 0%, #ede9fe 50%, #f8fafc 100%); padding: 30px; }
 .header { background: linear-gradient(135deg, var(--purple), var(--violet)); padding: 30px; border-radius: 18px; color: white; margin-bottom: 25px; }
 .card { background: white; padding: 30px; border-radius: 18px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(109, 40, 217, 0.08); }
 .btn { padding: 10px 20px; border-radius: 10px; background: white; color: var(--purple); text-decoration: none; display: inline-flex; align-items: center; gap: 8px; font-weight: 600; }
 table { width: 100%; border-collapse: collapse; }
 th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; }
 th { color: var(--purple); font-weight: 600; }
 </style>
</head>
<body>
 <div class="header">
 <h1><i class="fas fa-user"></i> {{ student.name }} - {{ student.student_id }}</h1>
 <p style="margin-top: 10px;">{{ student.get_branch_display }} | Semester {{ student.current_semester }} | CGPA: {{ student.cgpa }}</p>
 <a href="{% url 'student_list' %}" class="btn" style="margin-top: 15px;"><i class="fas fa-arrow-left"></i> Back to List</a>
 </div>

 {% if employability %}
 <div class="card">
 <h2 style="color: var(--purple); margin-bottom: 20px;"><i class="fas fa-chart-line"></i> Employability Score</h2>
 <p style="font-size: 36px; font-weight: 700; color: var(--purple); margin-bottom: 10px;">{{ employability.overall_employability|floatformat:1 }}%</p>
 <p style="font-weight: 600; color: #64748b;">{{ employability.get_placement_readiness_display }}</p>
 
 <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 30px;">
 <div><strong>Communication:</strong> {{ employability.communication_score }}/10</div>
 <div><strong>Technical:</strong> {{ employability.technical_score }}/10</div>
 <div><strong>Coding:</strong> {{ employability.coding_score }}/10</div>
 <div><strong>Aptitude:</strong> {{ employability.aptitude_score }}/100</div>
 <div><strong>Projects:</strong> {{ employability.projects_count }}</div>
 <div><strong>Internships:</strong> {{ employability.internships_count }}</div>
 </div>
 </div>
 {% endif %}

 {% if suitable_companies %}
 <div class="card">
 <h2 style="color: var(--purple); margin-bottom: 20px;"><i class="fas fa-building"></i> Suitable Companies ({{ suitable_companies.count }})</h2>
 <table>
 <thead><tr><th>Company</th><th>Type</th><th>Package Range</th></tr></thead>
 <tbody>
 {% for company in suitable_companies|slice:":10" %}
 <tr><td><strong>{{ company.name }}</strong></td><td>{{ company.get_company_type_display }}</td><td>{{ company.package_min }}-{{ company.package_max }} LPA</td></tr>
 {% endfor %}
 </tbody>
 </table>
 </div>
 {% endif %}
</body>
</html>
