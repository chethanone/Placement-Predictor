{% extends 'predictor/base.html' %}
{% load static %}

{% block title %}Student Portal - AI Placement Predictor{% endblock %}

{% block content %}
<div class="hero-section">
 <div class="container">
 <h1 class="hero-title"> AI Placement Predictor</h1>
 <p class="hero-subtitle">Predict your placement chances with our advanced AI model (95.5% accuracy)</p>
 </div>
</div>

<div class="container">
 <div class="form-card">
 <h2 class="section-title">
 <i class="fas fa-user-graduate"></i>
 Enter Your Details
 </h2>
 
 <form method="POST" action="{% url 'predict' %}" id="predictionForm">
 {% csrf_token %}
 
 <!-- Loading Overlay -->
 <div id="loadingOverlay" style="display: none;">
 <div class="spinner-container">
 <div class="spinner"></div>
 <p>Analyzing your profile...</p>
 </div>
 </div>
 
 <!-- Personal Information -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-id-card"></i>
 Personal Information
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="name">Full Name <span class="required">*</span></label>
 <input type="text" id="name" name="name" class="form-control" placeholder="Enter your full name" required>
 </div>
 <div class="form-group">
 <label for="stream">Engineering Stream <span class="required">*</span></label>
 <select id="stream" name="stream" class="form-control" required>
 {% for stream_option in streams %}
 <option value="{{ stream_option }}">{{ stream_option }}</option>
 {% endfor %}
 </select>
 </div>
 <div class="form-group">
 <label for="college_tier">College Tier <span class="required">*</span></label>
 <select id="college_tier" name="college_tier" class="form-control" required>
 <option value="1">Tier 1 (IIT, NIT, BITS)</option>
 <option value="2" selected>Tier 2 (State Government)</option>
 <option value="3">Tier 3 (Private)</option>
 <option value="4">Tier 4 (Other)</option>
 </select>
 </div>
 </div>
 </div>

 <!-- Academic Performance -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-book"></i>
 Academic Performance
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="cgpa">Current CGPA <span class="required">*</span></label>
 <input type="number" id="cgpa" name="cgpa" class="form-control" min="4" max="10" step="0.01" value="7.5" required>
 <small class="form-help">Your cumulative GPA (4.0-10.0 scale)</small>
 </div>
 <div class="form-group">
 <label for="prev_sem">Previous Semester Score <span class="required">*</span></label>
 <input type="number" id="prev_sem" name="prev_sem" class="form-control" min="4" max="10" step="0.01" value="7.5" required>
 <small class="form-help">Your last semester score (4.0-10.0)</small>
 </div>
 <div class="form-group">
 <label for="backlogs">Number of Backlogs <span class="required">*</span></label>
 <input type="number" id="backlogs" name="backlogs" class="form-control" min="0" max="8" value="0" required>
 <small class="form-help">Total active backlogs (0-8)</small>
 </div>
 </div>
 </div>

 <!-- Technical Skills -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-code"></i>
 Technical Skills
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="technical_skills">Technical Skills <span class="required">*</span></label>
 <input type="range" id="technical_skills" name="technical_skills" class="form-range" min="1" max="10" step="0.1" value="5" oninput="this.nextElementSibling.value = this.value">
 <output class="range-value">5</output>
 <small class="form-help">Core domain knowledge & tools (1-10)</small>
 </div>
 <div class="form-group">
 <label for="programming_skills">Programming Skills <span class="required">*</span></label>
 <input type="range" id="programming_skills" name="programming_skills" class="form-range" min="1" max="10" step="0.1" value="5" oninput="this.nextElementSibling.value = this.value">
 <output class="range-value">5</output>
 <small class="form-help">DSA, coding ability (1-10)</small>
 </div>
 <div class="form-group">
 <label for="aptitude_score">Aptitude Score <span class="required">*</span></label>
 <input type="number" id="aptitude_score" name="aptitude_score" class="form-control" min="20" max="100" value="50" required>
 <small class="form-help">Placement test score (20-100)</small>
 </div>
 </div>
 </div>

 <!-- Soft Skills -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-comments"></i>
 Communication & Soft Skills
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="communication_skills">Communication Skills <span class="required">*</span></label>
 <input type="range" id="communication_skills" name="communication_skills" class="form-range" min="1" max="10" step="0.1" value="5" oninput="this.nextElementSibling.value = this.value">
 <output class="range-value">5</output>
 <small class="form-help">Speaking & presentation (1-10)</small>
 </div>
 <div class="form-group">
 <label for="soft_skills">Soft Skills <span class="required">*</span></label>
 <input type="range" id="soft_skills" name="soft_skills" class="form-range" min="1" max="10" step="0.1" value="5" oninput="this.nextElementSibling.value = this.value">
 <output class="range-value">5</output>
 <small class="form-help">Teamwork, leadership, problem-solving (1-10)</small>
 </div>
 </div>
 </div>

 <!-- Practical Experience -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-briefcase"></i>
 Practical Experience
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="internships">Internships Completed <span class="required">*</span></label>
 <input type="number" id="internships" name="internships" class="form-control" min="0" max="4" value="0" required>
 <small class="form-help">Number of completed internships (0-4)</small>
 </div>
 <div class="form-group">
 <label for="projects">Projects Completed <span class="required">*</span></label>
 <input type="number" id="projects" name="projects" class="form-control" min="0" max="10" value="2" required>
 <small class="form-help">Total projects completed (0-10)</small>
 </div>
 <div class="form-group">
 <label for="certifications">Certifications <span class="required">*</span></label>
 <input type="number" id="certifications" name="certifications" class="form-control" min="0" max="10" value="0" required>
 <small class="form-help">Industry certifications earned (0-10)</small>
 </div>
 </div>
 </div>

 <!-- Extra-curricular -->
 <div class="form-section">
 <h3 class="form-section-title">
 <i class="fas fa-star"></i>
 Extra-curricular Activities
 </h3>
 <div class="form-row">
 <div class="form-group">
 <label for="extra_curricular">Extra-curricular Score <span class="required">*</span></label>
 <input type="range" id="extra_curricular" name="extra_curricular" class="form-range" min="1" max="10" step="0.1" value="5" oninput="this.nextElementSibling.value = this.value">
 <output class="range-value">5</output>
 <small class="form-help">Clubs, sports, leadership roles (1-10)</small>
 </div>
 </div>
 </div>

 <!-- Submit Button -->
 <div class="form-actions">
 <button type="submit" class="btn btn-primary btn-lg">
 <i class="fas fa-chart-line"></i>
 Predict My Placement Chances
 </button>
 </div>
 </form>
 </div>

 <!-- Information Card -->
 <div class="info-card">
 <h3><i class="fas fa-info-circle"></i> How It Works</h3>
 <ul>
 <li><strong>Advanced AI Model:</strong> 95.5% accuracy with 10,000+ training samples</li>
 <li><strong>28% Placement Rate:</strong> Model trained on realistic campus data</li>
 <li><strong>Key Factors:</strong> CGPA, Internships, Technical Skills are most important</li>
 <li><strong>Personalized Tips:</strong> Get actionable recommendations to improve</li>
 </ul>
 </div>
</div>

<style>
#loadingOverlay {
 position: fixed;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 background: rgba(102, 126, 234, 0.95);
 display: none;
 justify-content: center;
 align-items: center;
 z-index: 9999;
}

.spinner-container {
 text-align: center;
 color: white;
}

.spinner {
 border: 8px solid rgba(255, 255, 255, 0.3);
 border-top: 8px solid white;
 border-radius: 50%;
 width: 60px;
 height: 60px;
 animation: spin 1s linear infinite;
 margin: 0 auto 20px;
}

@keyframes spin {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
}

.range-value {
 display: inline-block;
 min-width: 30px;
 padding: 3px 8px;
 margin-left: 10px;
 background: #667eea;
 color: white;
 border-radius: 4px;
 font-weight: bold;
}

.info-card {
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 color: white;
 padding: 30px;
 border-radius: 15px;
 margin-top: 30px;
}

.info-card h3 {
 margin-bottom: 20px;
}

.info-card ul {
 list-style: none;
 padding: 0;
}

.info-card li {
 padding: 10px 0;
 border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.info-card li:last-child {
 border-bottom: none;
}
</style>

<script>
document.getElementById('predictionForm').addEventListener('submit', function(e) {
 const name = document.getElementById('name').value.trim();
 if (!name) {
 e.preventDefault();
 alert('Please enter your name!');
 return false;
 }
 
 // Show loading overlay
 document.getElementById('loadingOverlay').style.display = 'flex';
});
</script>
{% endblock %}
